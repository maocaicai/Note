用户接入

用户接入智能运营业务管理平台包含两部分: 用户的sso登陆(飞书登陆)和权限控制



## 一 用户登陆

用户使用sso2.0进行用户登陆操作，流程如下：

暂时无法在文档外展示此内容

申请sso appid、key权限@赖金龙(kony.lai) 

需提供以下信息：

- 提供下服务名称
- 各环境域名
- 系统负责人

参考链接[SSO 2.0 登录页面接入](https://huolala.feishu.cn/wiki/wikcnZfoIfxZdRlFFr3ePWY8owd) 

## 二 权限控制

1. 权限控制初始化

通过uac注册应用，并基于应用添加权限列表

​     初始化应用信息[1.接入](https://huolala.feishu.cn/wiki/wikcne4A9Vfq2tbDXFxf4ymqUr7) 

​     初始化权限列表[3.应用管理](https://huolala.feishu.cn/wiki/wikcnntstJygtqca23jSFswwYud) 

- 菜单权限
- 按钮权限
- api权限
- 数据权限

1. 权限控制实现

​     权限控制实现分为两部分，前端界面的控制和后台api的控制

​    \* 前端界面

- 用户登陆成功获取用户信息
- 调用uac的接口[8.获取用户权限、鉴权（系统接入的接口大多在这里）](https://huolala.feishu.cn/wiki/wikcnACydazkeI6j2iskE9OIoRh) 获取用户的权限列表
- 基于权限的列表过滤界面的展示信息和按钮

​    \* 后台api控制

- API请求的过程中在middleware中调用uac接口校验api的权限[8.1 鉴权-校验用户是否有某个功能权限](https://huolala.feishu.cn/wiki/wikcnY4Fmvh4MpQeOIBhX5qhsUe) 

  参考链接[UAC](https://huolala.feishu.cn/wiki/wikcnu08QJjDrx6AzLrlVDjHnPc) 